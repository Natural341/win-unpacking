module.exports=[12598,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});a.s(["ExclamationTriangleIcon",0,c],12598)},81260,2686,66452,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5],2686),a.s(["constructFrom",()=>c],66452),a.s(["toDate",()=>d],81260)},47280,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.s(["CurrencyDollarIcon",0,c],47280)},83967,a=>{"use strict";var b=a.i(19598),c=a.i(73151),d=a.i(17665),e=a.i(99954),f=a.i(12598),g=a.i(14574),h=a.i(47280);let i=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}),j=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))});var k=a.i(35645);function l(){let a=(0,d.useTranslations)("dashboard"),l=(0,d.useTranslations)("common"),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)("all"),[s,t]=(0,c.useState)("quantity"),[u,v]=(0,c.useState)(!1);(0,c.useEffect)(()=>{w()},[q]),(0,c.useEffect)(()=>{let a=setInterval(()=>{w()},3e4);return()=>clearInterval(a)},[q]),(0,c.useEffect)(()=>{let a=()=>{w()};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[q]);let w=async()=>{try{v(!0);let a=await fetch(`/api/dashboard?period=${q}`);if(!a.ok){let b=await a.json();console.error("Error:",b),503===a.status&&console.error("❌ Veritabanı hatası:",b.error);return}let b=await a.json();n(b)}catch(a){console.error("Error fetching dashboard data:",a)}finally{p(!1),v(!1)}};if(o)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("p",{className:"text-gray-600 text-base font-semibold tracking-tight",children:l("loading")})});let x=()=>{switch(q){case"daily":return"Bugün";case"weekly":return"Bu Hafta";case"monthly":return"Bu Ay";default:return"Tüm Zamanlar"}},y=[{name:a("totalProducts"),value:m?.stats.totalProducts||0,icon:e.CubeIcon,bgColor:"bg-gray-800"},{name:a("lowStock"),value:m?.stats.lowStockProducts||0,icon:f.ExclamationTriangleIcon,bgColor:"bg-gray-700"},{name:`${x()} Satışlar`,value:m?.stats.todaySales||0,icon:g.ShoppingCartIcon,bgColor:"bg-gray-600"},{name:`${x()} Ciro`,value:`₺${(m?.stats.todayRevenue||0).toFixed(2)}`,icon:h.CurrencyDollarIcon,bgColor:"bg-gray-900"}];return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-950 tracking-tight",children:a("title")}),(0,b.jsx)("button",{onClick:()=>{w()},disabled:u,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-all disabled:opacity-50",title:"Verileri Yenile",children:(0,b.jsx)(j,{className:`h-5 w-5 text-gray-600 ${u?"animate-spin":""}`})})]}),(0,b.jsxs)("div",{className:"flex gap-2 bg-gray-100 rounded-lg p-1",children:[(0,b.jsx)("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-md font-semibold text-sm transition-all ${"all"===q?"bg-black text-white shadow-sm":"text-gray-700 hover:bg-gray-200"}`,children:"Tüm Zamanlar"}),(0,b.jsx)("button",{onClick:()=>r("daily"),className:`px-4 py-2 rounded-md font-semibold text-sm transition-all ${"daily"===q?"bg-black text-white shadow-sm":"text-gray-700 hover:bg-gray-200"}`,children:"Günlük"}),(0,b.jsx)("button",{onClick:()=>r("weekly"),className:`px-4 py-2 rounded-md font-semibold text-sm transition-all ${"weekly"===q?"bg-black text-white shadow-sm":"text-gray-700 hover:bg-gray-200"}`,children:"Haftalık"}),(0,b.jsx)("button",{onClick:()=>r("monthly"),className:`px-4 py-2 rounded-md font-semibold text-sm transition-all ${"monthly"===q?"bg-black text-white shadow-sm":"text-gray-700 hover:bg-gray-200"}`,children:"Aylık"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:y.map(a=>(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 rounded-xl border border-gray-100",children:(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`flex-shrink-0 rounded-lg p-3 ${a.bgColor}`,children:(0,b.jsx)(a.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-semibold text-gray-500 truncate tracking-tight",children:a.name}),(0,b.jsx)("dd",{className:"text-2xl font-bold text-gray-950 tracking-tight mt-1",children:a.value})]})})]})})},a.name))}),(0,b.jsx)("div",{className:"mt-7 bg-gradient-to-r from-gray-950 via-gray-900 to-gray-950 shadow-md rounded-xl p-7 border border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-gray-400 text-sm font-semibold tracking-tight uppercase",children:[x()," Toplam Ciro"]}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-white mt-2 tracking-tight",children:["₺",(m?.stats.todayRevenue||0).toFixed(2)]}),(0,b.jsxs)("p",{className:"text-gray-400 text-xs font-medium mt-2",children:[m?.stats.todaySales||0," satış işlemi"]})]}),(0,b.jsx)(h.CurrencyDollarIcon,{className:"h-14 w-14 text-gray-500"})]})}),(0,b.jsxs)("div",{className:"mt-9 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-xl p-7 border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-950 mb-5 tracking-tight",children:"Son Satışlar"}),m?.recentSales&&0!==m.recentSales.length?(0,b.jsx)("div",{className:"space-y-3",children:m.recentSales.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all duration-150",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-sm text-gray-950 tracking-tight",children:a.saleNumber}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:(0,k.format)(new Date(a.createdAt),"dd/MM/yyyy HH:mm")}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-1.5 font-medium",children:[a.items.length," ürün"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-bold text-gray-950 tracking-tight",children:["₺",a.finalAmount.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 font-semibold uppercase",children:a.paymentMethod})]})]},a.id))}):(0,b.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:"Henüz satış bulunmuyor."})]}),(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-xl p-7 border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-950 mb-5 tracking-tight",children:"Düşük Stoklu Ürünler"}),m?.lowStockProductsList&&0!==m.lowStockProductsList.length?(0,b.jsx)("div",{className:"space-y-3",children:m.lowStockProductsList.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-2 border-gray-300 bg-gray-50 rounded-lg hover:border-gray-400 transition-colors duration-150",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-sm text-gray-950 tracking-tight",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-0.5 font-medium",children:a.barcode})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-sm font-bold text-gray-950 tracking-tight",children:[a.stock," ",a.unit]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:["Min: ",a.minStock]})]})]},a.id))}):(0,b.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:"Henüz düşük stoklu ürün bulunmuyor."})]})]}),(0,b.jsxs)("div",{className:"mt-9 bg-white shadow-sm rounded-xl p-7 border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-black rounded-lg",children:(0,b.jsx)(i,{className:"h-5 w-5 text-white"})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-950 tracking-tight",children:"En Çok Satan Ürünler"})]}),(0,b.jsxs)("div",{className:"flex gap-2 bg-gray-100 rounded-lg p-1",children:[(0,b.jsx)("button",{onClick:()=>t("quantity"),className:`px-4 py-2 rounded-md font-semibold text-sm transition-all ${"quantity"===s?"bg-black text-white shadow-sm":"text-gray-700 hover:bg-gray-200"}`,children:"En Fazla Adet"}),(0,b.jsx)("button",{onClick:()=>t("profit"),className:`px-4 py-2 rounded-md font-semibold text-sm transition-all ${"profit"===s?"bg-black text-white shadow-sm":"text-gray-700 hover:bg-gray-200"}`,children:"En Fazla Kar"})]})]}),m?.topSellingProducts&&0!==m.topSellingProducts.length?(0,b.jsx)("div",{className:"space-y-3",children:[...m.topSellingProducts].sort((a,b)=>"quantity"===s?b.quantitySold-a.quantitySold:b.profit-a.profit).slice(0,10).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all duration-150",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-700 font-bold text-sm",children:c+1}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-sm text-gray-950 tracking-tight",children:a.product.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 font-medium",children:a.product.barcode})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-0.5",children:"Adet"}),(0,b.jsx)("p",{className:"font-bold text-gray-950 tracking-tight",children:a.quantitySold})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-0.5",children:"Ciro"}),(0,b.jsxs)("p",{className:"font-bold text-gray-950 tracking-tight",children:["₺",a.revenue.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-0.5",children:"Kar"}),(0,b.jsxs)("p",{className:`font-bold tracking-tight ${a.profit>=0?"text-green-600":"text-red-600"}`,children:["₺",a.profit.toFixed(2)]})]})]})]},a.product.id))}):(0,b.jsxs)("p",{className:"text-gray-500 text-sm font-medium",children:[x()," için satış bulunmuyor."]})]})]})}a.s(["default",()=>l],83967)}];

//# sourceMappingURL=Downloads_dark-1_barkod_c150bf63._.js.map