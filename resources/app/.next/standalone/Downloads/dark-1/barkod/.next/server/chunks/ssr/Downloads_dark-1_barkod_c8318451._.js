module.exports=[4610,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});a.s(["ArrowLeftIcon",0,c],4610)},47280,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.s(["CurrencyDollarIcon",0,c],47280)},81260,2686,66452,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5],2686),a.s(["constructFrom",()=>c],66452),a.s(["toDate",()=>d],81260)},40789,a=>{"use strict";var b=a.i(66452),c=a.i(81260);function d(a,d,e){var f;let g;return f=-d,g=(0,c.toDate)(a,e?.in),isNaN(f)?(0,b.constructFrom)(e?.in||a,NaN):(f&&g.setDate(g.getDate()+f),g)}a.s(["subDays",()=>d],40789)},46798,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))});a.s(["ArrowTrendingUpIcon",0,c],46798)},52845,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});a.s(["ChartBarIcon",0,c],52845)},80197,a=>{"use strict";var b=a.i(19598),c=a.i(73151),d=a.i(95548),e=a.i(40789),f=a.i(35645),g=a.i(4610),h=a.i(52845),i=a.i(46798),j=a.i(47280);let k=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))});function l(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)((0,f.format)((0,e.subDays)(new Date,30),"yyyy-MM-dd")),[r,s]=(0,c.useState)((0,f.format)(new Date,"yyyy-MM-dd"));(0,c.useEffect)(()=>{t()},[p,r]);let t=async()=>{m(!0);try{let a=new Date(p),b=new Date(r);b.setHours(23,59,59,999);let c=await fetch(`/api/reports?type=profit&startDate=${a.toISOString()}&endDate=${b.toISOString()}`);if(c.ok){let a=await c.json();o(a)}}catch(a){console.error("Error fetching profit report:",a)}finally{m(!1)}};if(l)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-black"})});if(!n||!n.summary)return(0,b.jsx)("div",{className:"text-center py-20",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Rapor yÃ¼klenemedi"})});let{summary:u,topProfitableProducts:v,dailyProfit:w,monthlyTrend:x,topTurnoverProducts:y,slowMovers:z}=n,A={totalRevenue:u?.totalRevenue||0,totalCost:u?.totalCost||0,grossProfit:u?.grossProfit||0,profitMargin:u?.grossProfitMargin||0,totalSales:u?.totalSales||0};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("/tr/reports"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(g.ArrowLeftIcon,{className:"h-6 w-6 text-gray-700"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-950 tracking-tight",children:"DetaylÄ± Kar Raporu"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:[(0,f.format)(new Date(p),"dd/MM/yyyy")," - ",(0,f.format)(new Date(r),"dd/MM/yyyy")]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"date",value:p,onChange:a=>q(a.target.value),className:"rounded-lg border-gray-300 focus:border-black focus:ring-black py-2 px-3 border font-medium"}),(0,b.jsx)("input",{type:"date",value:r,onChange:a=>s(a.target.value),className:"rounded-lg border-gray-300 focus:border-black focus:ring-black py-2 px-3 border font-medium"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-black to-gray-800 text-white rounded-xl p-6 shadow-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(j.CurrencyDollarIcon,{className:"h-8 w-8"}),(0,b.jsx)(i.ArrowTrendingUpIcon,{className:"h-5 w-5 opacity-75"})]}),(0,b.jsx)("p",{className:"text-sm opacity-90 font-semibold mb-1",children:"BrÃ¼t Kar"}),(0,b.jsxs)("p",{className:"text-4xl font-bold",children:["â‚º",A.grossProfit.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-xs opacity-75 mt-2",children:["%",A.profitMargin.toFixed(1)," kar marjÄ±"]})]}),(0,b.jsxs)("div",{className:"bg-white border-2 border-black rounded-xl p-6 shadow-sm",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(h.ChartBarIcon,{className:"h-8 w-8 text-black"})}),(0,b.jsx)("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Toplam Ciro"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-black",children:["â‚º",A.totalRevenue.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-gray-100 rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(k,{className:"h-8 w-8 text-gray-700"})}),(0,b.jsx)("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Toplam Maliyet"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-gray-950",children:["â‚º",A.totalCost.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Toplam SatÄ±ÅŸ"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-gray-950",children:A.totalSales}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"BaÅŸarÄ±lÄ± iÅŸlem"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm mb-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"ðŸ’° En KarlÄ± ÃœrÃ¼nler"}),(0,b.jsx)("div",{className:"space-y-3",children:v&&v.length>0?v.slice(0,10).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold text-sm flex-shrink-0",children:c+1}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-950 truncate",children:a.product.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[a.quantity," adet satÄ±ldÄ±"]})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,b.jsxs)("p",{className:"font-bold text-green-600",children:["â‚º",a.profit.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:["%",a.margin.toFixed(1)," marj"]})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0 min-w-[100px]",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:["â‚º",a.revenue.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Ciro"})]})]},c)):(0,b.jsx)("p",{className:"text-center text-gray-500 py-8",children:"HenÃ¼z kar verisi yok"})})]}),w&&w.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"ðŸ“ˆ GÃ¼nlÃ¼k Kar Trendi"}),(0,b.jsx)("div",{className:"space-y-2",children:w.slice(-7).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 w-24",children:(0,f.format)(new Date(a.date),"dd MMM")}),(0,b.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-10 overflow-hidden",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-black to-gray-700 h-full flex items-center justify-end pr-3 text-white text-sm font-bold transition-all",style:{width:`${a.profit/Math.max(...w.map(a=>a.profit))*100}%`,minWidth:a.profit>0?"80px":"0"},children:a.profit>0&&`â‚º${a.profit.toFixed(0)}`})}),(0,b.jsxs)("div",{className:"text-right w-32",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-700",children:["â‚º",a.revenue.toFixed(0)]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Ciro"})]})]},c))}),(0,b.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 flex items-center justify-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded bg-gradient-to-r from-black to-gray-700"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"GÃ¼nlÃ¼k Kar"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded bg-gray-200"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"Toplam Ciro"})]})]})]}),x&&x.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm mt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"ðŸ“… AylÄ±k Trend Analizi (Sezonsal)"}),(0,b.jsx)("div",{className:"space-y-3",children:x.slice(-6).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 w-24",children:(0,f.format)(new Date(a.month+"-01"),"MMM yyyy")}),(0,b.jsx)("div",{className:"flex-1 bg-gray-100 rounded-lg h-12 overflow-hidden relative",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-400 h-full flex items-center justify-end pr-3 text-white text-sm font-bold transition-all",style:{width:`${a.profit/Math.max(...x.map(a=>a.profit))*100}%`,minWidth:a.profit>0?"80px":"0"},children:a.profit>0&&`â‚º${a.profit.toFixed(0)}`})}),(0,b.jsxs)("div",{className:"text-right w-32",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-700",children:[a.salesCount," satÄ±ÅŸ"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["â‚º",a.revenue.toFixed(0)," ciro"]})]})]},c))}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Son 6 ayÄ±n kar performansÄ± ve satÄ±ÅŸ sayÄ±larÄ±"})]}),y&&y.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm mt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"ðŸ”„ Stok Devir HÄ±zÄ± (En HÄ±zlÄ± Satan ÃœrÃ¼nler)"}),(0,b.jsx)("div",{className:"space-y-3",children:y.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-white rounded-lg hover:from-blue-100 transition-colors",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm flex-shrink-0",children:c+1}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-950 truncate",children:a.product.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[a.quantitySold," adet satÄ±ldÄ± â€¢ Mevcut stok: ",a.currentStock]})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,b.jsxs)("p",{className:"font-bold text-blue-600 text-xl",children:[a.turnoverRate.toFixed(2),"x"]}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Devir HÄ±zÄ±"})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0 min-w-[100px]",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:["â‚º",a.revenue.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Ciro"})]})]},c))}),(0,b.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,b.jsxs)("p",{className:"text-xs text-gray-700 font-medium",children:["ðŸ’¡ ",(0,b.jsx)("strong",{children:"Devir HÄ±zÄ±:"})," ÃœrÃ¼nÃ¼n ne kadar hÄ±zlÄ± satÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶sterir. YÃ¼ksek deÄŸer = Stok hÄ±zla tÃ¼kenip yenileniyor (Ä°yi performans)"]})})]}),z&&z.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm mt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"âš ï¸ En Az Satan ÃœrÃ¼nler (Stoktan Ã‡Ä±karÄ±labilir)"}),(0,b.jsx)("div",{className:"space-y-3",children:z.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-red-50 to-white rounded-lg hover:from-red-100 transition-colors border-l-4 border-red-400",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-600 text-white flex items-center justify-center font-bold text-sm flex-shrink-0",children:c+1}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-950 truncate",children:a.product.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:["Sadece ",a.quantitySold," adet satÄ±ldÄ± â€¢ Stokta: ",a.currentStock," adet"]})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,b.jsxs)("p",{className:"font-bold text-red-600 text-xl",children:[a.turnoverRate.toFixed(2),"x"]}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"DÃ¼ÅŸÃ¼k Devir"})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0 min-w-[100px]",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:[a.daysInStock," gÃ¼n"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Stokta bekliyor"})]})]},c))}),(0,b.jsx)("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:(0,b.jsxs)("p",{className:"text-xs text-gray-700 font-medium",children:["âš ï¸ ",(0,b.jsx)("strong",{children:"Ã–neriler:"})," Bu Ã¼rÃ¼nler yavaÅŸ satÄ±lÄ±yor ve sermayenizi baÄŸlÄ±yor. Ä°ndirim kampanyasÄ±, paket fÄ±rsatlarÄ± veya stoktan Ã§Ä±karma dÃ¼ÅŸÃ¼nebilirsiniz."]})})]})]})}a.s(["default",()=>l],80197)}];

//# sourceMappingURL=Downloads_dark-1_barkod_c8318451._.js.map