module.exports=[4610,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});a.s(["ArrowLeftIcon",0,c],4610)},47280,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.s(["CurrencyDollarIcon",0,c],47280)},81260,2686,66452,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5],2686),a.s(["constructFrom",()=>c],66452),a.s(["toDate",()=>d],81260)},40789,a=>{"use strict";var b=a.i(66452),c=a.i(81260);function d(a,d,e){var f;let g;return f=-d,g=(0,c.toDate)(a,e?.in),isNaN(f)?(0,b.constructFrom)(e?.in||a,NaN):(f&&g.setDate(g.getDate()+f),g)}a.s(["subDays",()=>d],40789)},46798,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))});a.s(["ArrowTrendingUpIcon",0,c],46798)},52845,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});a.s(["ChartBarIcon",0,c],52845)},66885,a=>{"use strict";var b=a.i(19598),c=a.i(73151),d=a.i(95548),e=a.i(40789),f=a.i(35645),g=a.i(14574),h=a.i(4610),i=a.i(52845),j=a.i(46798),k=a.i(47280);function l(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)((0,f.format)((0,e.subDays)(new Date,30),"yyyy-MM-dd")),[r,s]=(0,c.useState)((0,f.format)(new Date,"yyyy-MM-dd"));(0,c.useEffect)(()=>{t()},[p,r]);let t=async()=>{m(!0);try{let a=new Date(p),b=new Date(r);b.setHours(23,59,59,999);let c=await fetch(`/api/reports?type=sales&startDate=${a.toISOString()}&endDate=${b.toISOString()}`);if(c.ok){let a=await c.json();o(a)}}catch(a){console.error("Error fetching sales report:",a)}finally{m(!1)}};if(l)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-black"})});if(!n||!n.summary)return(0,b.jsx)("div",{className:"text-center py-20",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Rapor yÃ¼klenemedi"})});let{summary:u,topProducts:v,dailySales:w,paymentMethodBreakdown:x,hourlyBreakdown:y}=n,z={totalSales:u?.totalSales||0,totalRevenue:u?.totalRevenue||0,totalCost:u?.totalCost||0,grossProfit:u?.grossProfit||0,averageOrderValue:u?.averageOrderValue||0,totalItems:u?.totalItems||0},A={cash:x?.cash||0,creditCard:x?.creditCard||0};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("/tr/reports"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(h.ArrowLeftIcon,{className:"h-6 w-6 text-gray-700"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-950 tracking-tight",children:"DetaylÄ± SatÄ±ÅŸ Raporu"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:[(0,f.format)(new Date(p),"dd/MM/yyyy")," - ",(0,f.format)(new Date(r),"dd/MM/yyyy")]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"date",value:p,onChange:a=>q(a.target.value),className:"rounded-lg border-gray-300 focus:border-black focus:ring-black py-2 px-3 border font-medium"}),(0,b.jsx)("input",{type:"date",value:r,onChange:a=>s(a.target.value),className:"rounded-lg border-gray-300 focus:border-black focus:ring-black py-2 px-3 border font-medium"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-black to-gray-800 text-white rounded-xl p-6 shadow-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g.ShoppingCartIcon,{className:"h-8 w-8"}),(0,b.jsx)(j.ArrowTrendingUpIcon,{className:"h-5 w-5 opacity-75"})]}),(0,b.jsx)("p",{className:"text-sm opacity-90 font-semibold mb-1",children:"Toplam SatÄ±ÅŸ"}),(0,b.jsx)("p",{className:"text-4xl font-bold",children:z.totalSales}),(0,b.jsxs)("p",{className:"text-xs opacity-75 mt-2",children:[z.totalItems," Ã¼rÃ¼n satÄ±ldÄ±"]})]}),(0,b.jsxs)("div",{className:"bg-white border-2 border-black rounded-xl p-6 shadow-sm",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(k.CurrencyDollarIcon,{className:"h-8 w-8 text-black"})}),(0,b.jsx)("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Toplam Ciro"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-black",children:["â‚º",z.totalRevenue.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(i.ChartBarIcon,{className:"h-8 w-8 text-gray-700"})}),(0,b.jsx)("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"Ortalama SipariÅŸ"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-gray-950",children:["â‚º",z.averageOrderValue.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-gray-100 rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 font-semibold mb-1",children:"BrÃ¼t Kar"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-gray-950",children:["â‚º",z.grossProfit.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["Kar MarjÄ±: %",z.totalRevenue>0?(z.grossProfit/z.totalRevenue*100).toFixed(1):0]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"Ã–deme YÃ¶ntemleri"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-black flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold",children:"ðŸ’µ"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-950",children:"Nakit"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[z.totalRevenue>0?(A.cash/z.totalRevenue*100).toFixed(1):0,"%"]})]})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-950",children:["â‚º",A.cash.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold",children:"ðŸ’³"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-950",children:"Kredi KartÄ±"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[z.totalRevenue>0?(A.creditCard/z.totalRevenue*100).toFixed(1):0,"%"]})]})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-950",children:["â‚º",A.creditCard.toFixed(2)]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"En Ã‡ok Satan ÃœrÃ¼nler"}),(0,b.jsx)("div",{className:"space-y-3",children:v&&v.length>0?v.slice(0,5).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-black text-white flex items-center justify-center font-bold text-sm",children:c+1}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-950",children:a.product.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[a.quantity," adet"]})]})]}),(0,b.jsxs)("p",{className:"font-bold text-gray-950",children:["â‚º",a.revenue.toFixed(2)]})]},c)):(0,b.jsx)("p",{className:"text-center text-gray-500 py-8",children:"HenÃ¼z satÄ±ÅŸ verisi yok"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[w&&w.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"Son 7 GÃ¼n SatÄ±ÅŸ Trendi"}),(0,b.jsx)("div",{className:"space-y-2",children:w.slice(-7).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 w-24",children:(0,f.format)(new Date(a.date),"dd MMM")}),(0,b.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-8 overflow-hidden",children:(0,b.jsx)("div",{className:"bg-black h-full flex items-center justify-end pr-3 text-white text-sm font-bold transition-all",style:{width:`${a.revenue/Math.max(...w.map(a=>a.revenue))*100}%`,minWidth:a.revenue>0?"60px":"0"},children:a.revenue>0&&`â‚º${a.revenue.toFixed(0)}`})}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 w-16 text-right",children:[a.sales," adet"]})]},c))})]}),y&&y.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-950 mb-4",children:"En YoÄŸun SatÄ±ÅŸ Saatleri"}),(0,b.jsx)("div",{className:"space-y-2",children:y.filter(a=>a.sales>0).sort((a,b)=>b.revenue-a.revenue).slice(0,7).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-700 w-20",children:[a.hour.toString().padStart(2,"0"),":00"]}),(0,b.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-8 overflow-hidden",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-black to-gray-700 h-full flex items-center justify-end pr-3 text-white text-sm font-bold transition-all",style:{width:`${a.revenue/Math.max(...y.map(a=>a.revenue))*100}%`,minWidth:a.revenue>0?"60px":"0"},children:a.revenue>0&&`â‚º${a.revenue.toFixed(0)}`})}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 w-16 text-right",children:[a.sales," adet"]})]},c))}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-4",children:["En yoÄŸun saat:"," ",y.reduce((a,b)=>b.revenue>a.revenue?b:a,y[0]).hour.toString().padStart(2,"0"),":00"]})]})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=Downloads_dark-1_barkod_79aa665f._.js.map