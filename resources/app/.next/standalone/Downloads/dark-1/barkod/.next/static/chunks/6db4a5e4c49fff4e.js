(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81137,e=>{"use strict";var r=e.i(51797);let t=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});e.s(["ExclamationTriangleIcon",0,t],81137)},99946,e=>{"use strict";var r=e.i(51797);let t=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});e.s(["TrashIcon",0,t],99946)},1750,e=>{"use strict";var r=e.i(51797);let t=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});e.s(["PlusIcon",0,t],1750)},38881,e=>{"use strict";var r=e.i(51797);let t=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});e.s(["XMarkIcon",0,t],38881)},4669,e=>{"use strict";var r=e.i(68675),t=e.i(81137),s=e.i(38881);function a({isOpen:e,title:a,message:l,confirmText:o="Onayla",cancelText:i="İptal",onConfirm:n,onCancel:d,type:c="danger"}){if(!e)return null;let m={danger:{icon:"text-red-600",bg:"bg-red-50",border:"border-red-200",button:"bg-red-600 hover:bg-red-700"},warning:{icon:"text-yellow-600",bg:"bg-yellow-50",border:"border-yellow-200",button:"bg-yellow-600 hover:bg-yellow-700"},info:{icon:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200",button:"bg-blue-600 hover:bg-blue-700"}}[c];return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full overflow-hidden",style:{maxWidth:"28rem",minWidth:"320px"},children:[(0,r.jsx)("div",{className:`${m.bg} ${m.border} border-b-2 px-6 py-4`,children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:`${m.icon} bg-white rounded-full p-2`,children:(0,r.jsx)(t.ExclamationTriangleIcon,{className:"h-6 w-6"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a})]}),(0,r.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-white/50",children:(0,r.jsx)(s.XMarkIcon,{className:"h-5 w-5"})})]})}),(0,r.jsx)("div",{className:"px-6 py-6",children:(0,r.jsx)("p",{className:"text-gray-700 text-base leading-relaxed",children:l})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex gap-3 justify-end",children:[(0,r.jsx)("button",{onClick:d,className:"px-6 py-2.5 border-2 border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-100 transition-all",children:i}),(0,r.jsx)("button",{onClick:n,className:`px-6 py-2.5 ${m.button} text-white rounded-lg font-semibold transition-all shadow-md`,children:o})]})]})})}e.s(["default",()=>a])},93731,e=>{"use strict";var r=e.i(51797);let t=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});e.s(["ArrowLeftIcon",0,t],93731)},74504,e=>{"use strict";var r=e.i(68675),t=e.i(51797),s=e.i(68621),a=e.i(69715),l=e.i(72613),o=e.i(93731),i=e.i(99946),n=e.i(1750),d=e.i(4669);function c({params:e}){let[c,m]=(0,t.useState)(null),g=(0,s.useTranslations)("products"),b=(0,s.useTranslations)("common"),u=(0,a.useRouter)();(0,a.usePathname)();let[x,h]=(0,t.useState)([]),[p,y]=(0,t.useState)(!1),[f,j]=(0,t.useState)(!0),[w,v]=(0,t.useState)(!1),[k,N]=(0,t.useState)(""),[E,S]=(0,t.useState)(!1),[C,L]=(0,t.useState)(""),{register:T,handleSubmit:B,setValue:I,formState:{errors:O},reset:P}=(0,l.useForm)();(0,t.useEffect)(()=>{e.then(e=>m(e))},[e]),(0,t.useEffect)(()=>{c&&(K(),M())},[c]);let K=async()=>{try{let e=await fetch("/api/categories");if(!e.ok)return;let r=await e.json();h(r)}catch(e){console.error("Error fetching categories:",e)}},M=async()=>{if(c)try{let e=await fetch(`/api/products/${c.id}`);if(!e.ok){console.error("❌ Ürün bulunamadı"),u.back();return}let r=await e.json();N(r.name),P({barcode:r.barcode,name:r.name,description:r.description||"",categoryId:r.categoryId||"",price:r.price,costPrice:r.costPrice,stock:r.stock,minStock:r.minStock,unit:r.unit})}catch(e){console.error("❌ Ürün yükleme hatası:",e)}finally{j(!1)}},$=async e=>{if(c){y(!0);try{let r=await fetch(`/api/products/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok)u.push(`/${c.locale}/products`);else{let e=await r.json();console.error("❌ Güncelleme hatası:",e.error)}}catch(e){console.error("❌ Güncelleme hatası:",e)}finally{y(!1)}}},z=async()=>{if(c)try{let e=await fetch(`/api/products/${c.id}`,{method:"DELETE"});if(e.ok)u.push(`/${c.locale}/products`);else{let r=await e.json();console.error("❌ Ürün silinemedi:",r.error)}}catch(e){console.error("❌ Silme hatası:",e)}finally{v(!1)}},R=async()=>{if(!C.trim())return void console.error("❌ Kategori adı boş olamaz");try{let e=await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C.trim()})});if(e.ok){let r=await e.json();h([...x,r]),I("categoryId",r.id),L(""),S(!1)}else{let r=await e.json();console.error("❌ Kategori eklenemedi:",r.error)}}catch(e){console.error("❌ Kategori ekleme hatası:",e)}};return f||!c?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:b("loading")})]})}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>u.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(o.ArrowLeftIcon,{className:"h-6 w-6 text-gray-600"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Ürünü Düzenle"})]}),(0,r.jsxs)("button",{onClick:()=>{v(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-black transition-colors shadow-md",children:[(0,r.jsx)(i.TrashIcon,{className:"h-5 w-5"}),"Sil"]})]}),(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-200",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 px-6 py-4",children:(0,r.jsx)("h2",{className:"text-white text-lg font-semibold",children:"Ürün Bilgileri"})}),(0,r.jsxs)("form",{onSubmit:B($),className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[g("barcode")," ",(0,r.jsx)("span",{className:"text-gray-400 text-xs font-normal",children:"(Opsiyonel)"})]}),(0,r.jsx)("div",{className:"flex gap-3",children:(0,r.jsx)("input",{type:"text",...T("barcode"),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all",placeholder:"Barkod numarası girin veya boş bırakın"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[g("name")," *"]}),(0,r.jsx)("input",{type:"text",...T("name",{required:!0}),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all",placeholder:"Ürün adını girin"}),O.name&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600 font-medium",children:"Bu alan zorunludur"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:g("description")}),(0,r.jsx)("textarea",{...T("description"),rows:3,className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all",placeholder:"Ürün açıklaması (opsiyonel)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:g("category")}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{...T("categoryId"),className:"flex-1 rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all",children:[(0,r.jsx)("option",{value:"",children:"Kategori Seçin"}),x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("button",{type:"button",onClick:()=>S(!0),className:"inline-flex items-center gap-1.5 px-3 py-2 bg-gray-900 text-white rounded-lg hover:bg-black transition-colors text-sm font-semibold",children:[(0,r.jsx)(n.PlusIcon,{className:"h-4 w-4"}),"Yeni"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fiyat Bilgileri"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[g("price")," (₺) *"]}),(0,r.jsx)("input",{type:"number",step:"0.01",...T("price",{required:!0,min:0}),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all bg-white",placeholder:"0.00"}),O.price&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600 font-medium",children:"Bu alan zorunludur"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[g("costPrice")," (₺)"]}),(0,r.jsx)("input",{type:"number",step:"0.01",...T("costPrice",{min:0}),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all bg-white",placeholder:"0.00"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stok Bilgileri"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:g("stock")}),(0,r.jsx)("input",{type:"number",...T("stock",{min:0}),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all bg-white",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:g("minStock")}),(0,r.jsx)("input",{type:"number",...T("minStock",{min:0}),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all bg-white",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:g("unit")}),(0,r.jsxs)("select",{...T("unit"),className:"block w-full rounded-lg border-2 border-gray-200 shadow-sm focus:border-gray-900 focus:ring-2 focus:ring-gray-200 py-3 px-4 transition-all bg-white",children:[(0,r.jsx)("option",{value:"adet",children:"Adet"}),(0,r.jsx)("option",{value:"kg",children:"Kilogram"}),(0,r.jsx)("option",{value:"gr",children:"Gram"}),(0,r.jsx)("option",{value:"lt",children:"Litre"}),(0,r.jsx)("option",{value:"ml",children:"Mililitre"}),(0,r.jsx)("option",{value:"m",children:"Metre"}),(0,r.jsx)("option",{value:"cm",children:"Santimetre"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t-2 border-gray-100",children:[(0,r.jsx)("button",{type:"button",onClick:()=>u.back(),className:"px-6 py-3 border-2 border-gray-300 rounded-lg shadow-sm text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:b("cancel")}),(0,r.jsx)("button",{type:"submit",disabled:p,className:"px-6 py-3 border-2 border-transparent rounded-lg shadow-md text-sm font-semibold text-white bg-black hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:p?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),b("loading")]}):b("save")})]})]})]}),E&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Yeni Kategori Ekle"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori Adı *"}),(0,r.jsx)("input",{type:"text",value:C,onChange:e=>L(e.target.value),onKeyPress:e=>{"Enter"===e.key&&R()},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-gray-900 focus:ring-gray-900 py-2 px-3 border",placeholder:"Kategori adını girin",autoFocus:!0})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{S(!1),L("")},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"İptal"}),(0,r.jsx)("button",{type:"button",onClick:R,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-semibold text-white bg-gray-900 hover:bg-black",children:"Ekle"})]})]})]})}),(0,r.jsx)(d.default,{isOpen:w,title:"Ürünü Sil",message:`"${k}" \xfcr\xfcn\xfcn\xfc silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.`,confirmText:"Evet, Sil",cancelText:"İptal",onConfirm:z,onCancel:()=>{v(!1)},type:"danger"})]})}e.s(["default",()=>c])}]);