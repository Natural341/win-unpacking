module.exports=[81260,2686,66452,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5],2686),a.s(["constructFrom",()=>c],66452),a.s(["toDate",()=>d],81260)},58369,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});a.s(["PlusIcon",0,c],58369)},81767,a=>{"use strict";var b=a.i(73151);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});a.s(["TrashIcon",0,c],81767)},1952,a=>{"use strict";var b=a.i(19598),c=a.i(73151),d=a.i(17665),e=a.i(58369),f=a.i(81767),g=a.i(35645);function h(){let a=(0,d.useTranslations)("stock"),h=(0,d.useTranslations)("common"),i=(0,d.useTranslations)("products"),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)({productId:"",type:"in",quantity:0,reason:"",notes:""});(0,c.useEffect)(()=>{t(),u()},[]);let t=async()=>{try{let a=await fetch("/api/stock");if(!a.ok){let b=await a.json();console.error("Error:",b),503===a.status&&console.error("❌ Veritabanı hatası:",b.error);return}let b=await a.json();k(b)}catch(a){console.error("Error fetching movements:",a)}finally{o(!1)}},u=async()=>{try{let a=await fetch("/api/products");if(!a.ok){let b=await a.json();console.error("Error:",b),503===a.status&&console.error("❌ Veritabanı hatası:",b.error);return}let b=await a.json();m(b)}catch(a){console.error("Error fetching products:",a)}},v=async a=>{a.preventDefault();try{let a=await fetch("/api/stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok)t(),u(),q(!1),s({productId:"",type:"in",quantity:0,reason:"",notes:""});else{let b=await a.json();console.error("❌ Stok hareketi eklenemedi:",b.error)}}catch(a){console.error("❌ Stok hareketi ekleme hatası:",a)}};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a("title")})}),(0,b.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,b.jsxs)("button",{onClick:()=>q(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 font-semibold shadow-md transition-colors",children:[(0,b.jsx)(e.PlusIcon,{className:"h-5 w-5"}),a("addMovement")]})})]}),(0,b.jsxs)("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-4 mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:a("lowStockAlert")}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[l.filter(a=>a.stock<=a.minStock).map(a=>(0,b.jsxs)("div",{className:"bg-white p-3 rounded border-2 border-gray-300",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[i("stock"),": ",a.stock," ",a.unit," / ",i("minStock"),": ",a.minStock]})]},a.id)),0===l.filter(a=>a.stock<=a.minStock).length&&(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Düşük stoklu ürün bulunmuyor"})]})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:a("movements")})}),(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ürün"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("type")}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("quantity")}),(0,b.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a("previousStock")," / ",a("newStock")]}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("reason")}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("actions")})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center",children:h("loading")})}):0===j.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:h("noData")})}):j.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,g.format)(new Date(c.createdAt),"dd/MM/yyyy HH:mm")}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.product?.name}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(a=>{switch(a){case"in":return"text-gray-900 bg-gray-200 font-semibold";case"out":return"text-gray-900 bg-gray-300 font-semibold";case"adjustment":return"text-gray-900 bg-gray-100 font-semibold";default:return"text-gray-600 bg-gray-100"}})(c.type)}`,children:(b=>{switch(b){case"in":return a("in");case"out":return a("out");case"adjustment":return a("adjustment");default:return b}})(c.type)})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.quantity}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[c.previousStock," → ",c.newStock]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.reason}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,b.jsx)("button",{onClick:()=>{var a;return a=c.id,void k(j.filter(b=>b.id!==a))},className:"text-red-600 hover:text-red-900 transition-colors duration-150",title:"Listeden Kaldır",children:(0,b.jsx)(f.TrashIcon,{className:"h-5 w-5 inline"})})})]},c.id))})]})]}),p&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:a("addMovement")}),(0,b.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ürün *"}),(0,b.jsxs)("select",{value:r.productId,onChange:a=>s({...r,productId:a.target.value}),required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-gray-900 focus:ring-gray-900 py-2 px-3 border",children:[(0,b.jsx)("option",{value:"",children:"Seçiniz"}),l.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (Stok: ",a.stock,")"]},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("type")," *"]}),(0,b.jsxs)("select",{value:r.type,onChange:a=>s({...r,type:a.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-gray-900 focus:ring-gray-900 py-2 px-3 border",children:[(0,b.jsx)("option",{value:"in",children:a("in")}),(0,b.jsx)("option",{value:"out",children:a("out")}),(0,b.jsx)("option",{value:"adjustment",children:a("adjustment")})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("quantity")," *"]}),(0,b.jsx)("input",{type:"number",min:"0",step:"0.01",value:r.quantity,onChange:a=>s({...r,quantity:parseFloat(a.target.value)}),required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-gray-900 focus:ring-gray-900 py-2 px-3 border"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("reason")}),(0,b.jsx)("input",{type:"text",value:r.reason,onChange:a=>s({...r,reason:a.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-gray-900 focus:ring-gray-900 py-2 px-3 border"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("notes")}),(0,b.jsx)("textarea",{value:r.notes,onChange:a=>s({...r,notes:a.target.value}),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-gray-900 focus:ring-gray-900 py-2 px-3 border"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>q(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:h("cancel")}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-lg shadow-md text-sm font-semibold text-white bg-black hover:bg-gray-800 transition-colors",children:h("save")})]})]})]})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=Downloads_dark-1_barkod_035e3cfc._.js.map